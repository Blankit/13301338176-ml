<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Microsoft FrontPage 12.0">
   <title>Homework #7</title>
   <style type="text/css">
.style1 {
	font-family: "Courier New", Courier, monospace;
}
</style>
</head>
<body>
&nbsp;<table WIDTH="100%" >
<tr>
<td><img SRC="GburgCS.gif" height=84 width=182></td>

<td><font size=+2>CS 341 - Survey of Programming Languages</font>
<br><font size=+2>Homework #7</font></td>
</tr>
</table>

<hr>
<p><B>Due: Thursday 10/12 at the beginning of class #13</B> </p>
<P><B>Note: </B>This work is to be done in <B>pairs</B>.&nbsp; Each pair will 
submit one assignment.&nbsp; Although you may divide the work, both team members 
should be able to present/describe their partner's work upon request.&nbsp;
<P>To submit this homework, change into the directory containing all necessary 
files: MiniScheme2.jj and supporting abstract syntax tree .java files, and enter 
the command &quot;<span class="style1">submit341 ms2</span>&quot;.<h1>MiniScheme 
Project Phase 2</h1>
<P>In this phase of the project, you will extend phase 1 to include Scheme 
variables, define, set!, and let.&nbsp; Again, we will restrict ourselves at 
this stage to having only integers.&nbsp; All specifications for variable names, 
and basic syntactic structures conform to the R5RS specification.&nbsp; 
Additionally, the following error cases will need to be handled as follows.<ul>
	<li>When an undefined variable &lt;variable name&gt; is referenced, print 
	&quot;reference to undefined identifier: &lt;variable name&gt;&quot; to the error stream and 
	exit with code 4.</li>
	<li>When an internal variable &lt;variable name&gt; is defined that has already been defined, 
	print &quot;duplicate identifier: &lt;variable name&gt;&quot; to the error stream and exit 
	with code 5.&nbsp; For example:</li>
</ul>
<pre>
(define a 1)
(define a 2)  ; This is treated as (set! a 2). (R5RS p.16)
(let ()
  (define a 3) ; This creates a local variable a.
  (define a 4) ; This line is the only problem.
  a)
</pre>
<ul>
	<li>When an undefined variable &lt;variable name&gt; is set!, print &quot;cannot set 
	undefined variable: &lt;variable name&gt;&quot; to the error stream and exit with code 
	6.</li>
	<li>When let has a duplicate variable in its list of local assignments, 
	print &quot;duplicate identifier: &lt;variable name&gt;&quot; to the error stream and exit 
	with code 5.&nbsp; For example:</li>
</ul>
<pre>
(let ((a 1)
      (a 2))
  a)
</pre>
<h2>Grammar</h2>
<p>Grammar notes:</p>
<ul>
	<li>Non-terminals are surrounded with angle brackets &quot;&lt;&quot; and &quot;&gt;&quot;.&nbsp; </li>
	<li>Terminals (e.g. &quot;(&quot; and &quot;)&quot; are represented as themselves without 
	quotes, unless otherwise noted below).</li>
	<li>--&gt; denotes a right arrow.&nbsp; Choices to the right of the arrow are 
	separated by a pipe (i.e. &quot;|&quot;).</li>
	<li>{ }* and { }+ denote a Kleene star and plus/cross, respectively. { }? 
	denotes an optional subexpression.</li>
</ul>
<p>&lt;program&gt; --&gt; { &lt;definition&gt; | &lt;expression&gt; }*<br><br>&lt;definition&gt; --&gt; ( 
define &lt;variable&gt; &lt;expression&gt; )<br><br>&lt;variable&gt; --&gt; &lt;any &lt;identifier&gt; that 
isn't also a keyword&gt;<br>&lt;identifier&gt; --&gt; &lt;initial&gt; { &lt;subsequent&gt; }* <br>
&lt;initial&gt; --&gt; [a-z!$%&amp;*/:&lt;=&gt;?^_~]<br>&lt;subsequent&gt; --&gt; &lt;initial&gt; | &lt;digit&gt; | 
[+-.@]<br>&lt;digit&gt; --&gt; [0-9]<br><br>&lt;expression&gt; --&gt; &lt;variable&gt;<br>| &lt;literal&gt;<br>
| &lt;assignment&gt;<br>| &lt;defined expression&gt;<br><br>&lt;literal&gt; --&gt; &lt;integer&gt;<br>
&lt;integer&gt; --&gt; { + | - }? { &lt;digit&gt; }+<br><br>&lt;body&gt; --&gt; { &lt;definition&gt; }* { 
&lt;expression&gt; }+<br><br>&lt;assignment&gt; --&gt; ( set! &lt;variable&gt; &lt;expression&gt; )<br><br>
&lt;defined expression&gt; --&gt; ( read )<br>| ( write &lt;expression&gt; )<br>| ( newline )<br>
| ( + &lt;expression&gt; &lt;expression&gt; )<br>| ( - &lt;expression&gt; &lt;expression&gt; )<br>| ( * 
&lt;expression&gt; &lt;expression&gt; )<br>| ( quotient &lt;expression&gt; &lt;expression&gt; )<br>| ( 
let ( { &lt;binding spec&gt; }* ) &lt;body&gt; )<br><br>&lt;binding spec&gt; --&gt; ( &lt;variable&gt; 
&lt;expression&gt; )</p>

</body></html>
